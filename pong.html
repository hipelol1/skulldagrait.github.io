<!DOCTYPE html>
<html>
<head>
<title>2 Player Pong</title>
<style>
body { margin: 0; background: black; display: flex; justify-content: center; align-items: center; height: 100vh; }
canvas { border: 2px solid white; }
</style>
</head>
<body>
<canvas id="pong" width="600" height="400"></canvas>
<script>
const canvas = document.getElementById('pong');
const ctx = canvas.getContext('2d');
const paddleHeight = 80, paddleWidth = 10, paddleSpeed = 5;
const player1 = {x:0,y:canvas.height/2 - paddleHeight/2,width:paddleWidth,height:paddleHeight,score:0};
const player2 = {x:canvas.width - paddleWidth,y:canvas.height/2 - paddleHeight/2,width:paddleWidth,height:paddleHeight,score:0};
const ball = {x:canvas.width/2,y:canvas.height/2,radius:8,speed:4,velocityX:0,velocityY:0};
let ballMoving = false;
const keys = {};
document.addEventListener('keydown',e=>keys[e.code]=true);
document.addEventListener('keyup',e=>keys[e.code]=false);
function drawRect(x,y,w,h,color){ctx.fillStyle=color;ctx.fillRect(x,y,w,h);}
function drawCircle(x,y,r,color){ctx.fillStyle=color;ctx.beginPath();ctx.arc(x,y,r,0,Math.PI*2,false);ctx.closePath();ctx.fill();}
function drawText(text,x,y,color){ctx.fillStyle=color;ctx.font="30px Arial";ctx.fillText(text,x,y);}
function launchBall(){
let angle = Math.random()*Math.PI/4 - Math.PI/8;
let direction = Math.random()>0.5?1:-1;
ball.velocityX = direction * ball.speed * Math.cos(angle);
ball.velocityY = ball.speed * Math.sin(angle);
ballMoving = true;
}
function resetBall(){
ball.x = canvas.width/2;
ball.y = canvas.height/2;
ball.velocityX = 0;
ball.velocityY = 0;
ballMoving = false;
setTimeout(launchBall,2000);
}
function update(){
if(keys['KeyW'] && player1.y>0) player1.y -= paddleSpeed;
if(keys['KeyS'] && player1.y+paddleHeight<canvas.height) player1.y += paddleSpeed;
if(keys['ArrowUp'] && player2.y>0) player2.y -= paddleSpeed;
if(keys['ArrowDown'] && player2.y+paddleHeight<canvas.height) player2.y += paddleSpeed;
if(ballMoving){
ball.x += ball.velocityX;
ball.y += ball.velocityY;
if(ball.y - ball.radius <0 || ball.y + ball.radius > canvas.height) ball.velocityY = -ball.velocityY;
[player1,player2].forEach(p=>{
if(ball.x - ball.radius < p.x + p.width && ball.x + ball.radius > p.x && ball.y + ball.radius > p.y && ball.y - ball.radius < p.y + p.height) ball.velocityX = -ball.velocityX;
});
if(ball.x - ball.radius <0){player2.score++;resetBall();}
if(ball.x + ball.radius >canvas.width){player1.score++;resetBall();}
}
}
function render(){
drawRect(0,0,canvas.width,canvas.height,'black');
for(let i=0;i<canvas.height;i+=20) drawRect(canvas.width/2 -1,i,2,10,'white');
drawRect(player1.x,player1.y,player1.width,player1.height,'white');
drawRect(player2.x,player2.y,player2.width,player2.height,'white');
drawCircle(ball.x,ball.y,ball.radius,'white');
drawText(player1.score,canvas.width/4,30,'white');
drawText(player2.score,3*canvas.width/4,30,'white');
}
function gameLoop(){update();render();requestAnimationFrame(gameLoop);}
resetBall();
gameLoop();
</script>
</body>
</html>
